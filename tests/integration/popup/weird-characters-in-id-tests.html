<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery Mobile Popup Test Suite</title>

	<script src="../../../external/requirejs/require.js"></script>
	<script src="../../../js/requirejs.config.js"></script>
	<script src="../../../js/jquery.tag.inserter.js"></script>
	<script src="../../jquery.setNameSpace.js"></script>
	<script src="../../../tests/jquery.testHelper.js"></script>

	<link rel="stylesheet"  href="../../../css/themes/default/jquery.mobile.css"/>
	<link rel="stylesheet" href="../../../external/qunit/qunit.css"/>
	<link rel="stylesheet" href="../../jqm-tests.css"/>
	<script src="../../../external/qunit/qunit.js"></script>
	<script>

// The next call to $.fn.enhanceWithin() will have no effect
$( document ).one( "pagebeforecreate", function() {
	var overrideOnce = true;

	$.fn.enhanceWithin = ( function( original ) {
		return function() {
			if ( overrideOnce ) {
				overrideOnce = false;
			} else {
				return original.apply( this, arguments );
			}
		};
	})( $.fn.enhanceWithin );
});
	</script>
	<script>
		$.testHelper.asyncLoad([
			[
				"widgets/popup"
			],
			[ "init" ],
			[ "weird_characters_in_id_core.js" ]
		]);
	</script>

	<script src="../../swarminject.js"></script>
</head>
<body>
	<div id="qunit"></div>

	<div data-nstest-role="page" id="start-page">
		<div class="ui-content" id="page-content">
			<div data-nstest-role="popup" id="the-['x']-popup">
				<p>Popup with weird characters in its ID</p>
			</div>
			<a href="#the-['x']-popup" id="openPopup" data-nstest-rel="popup">Open Popup</a>
		</div>
	</div>
</body>
</html>
